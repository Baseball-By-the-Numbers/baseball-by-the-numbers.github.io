---
layout: post
published: true
title: Trillions of Toy Towers
date: 2020/07/12
---

>Question: Mira the baby architect has a tapering post and some rings. If placed alone, each ring will "find its height" and rest there. If a ring with a higher rest height is placed before one with a lower rest height, the higher one will cut the bottom of the post off from ring placement. How many different ways are there to stack a ring tower?

<!--more-->

([FiveThirtyEight](URL))

## Solution

###Structure

We'll get at the structure of the problem in two passes. 

Imagine we start with the bare post and $5$ rings. As there are $5$ rings and $5$ open heights, we'll call this the $(5,5)$ stacking problem, or $S(5,5).$ 

If we drop ring $5$ first, then it will settle to the bottom and we'll have $4$ rings with $4$ open slots, e.g., $S(4,4).$ We could also stop there, so the total number of cases where ring $5$ is placed first is $S(4,4) + 1.$ We could also drop ring $4$ first, which would settle at its height, and leave us to figure out how to place the $4$ remaining rings at the $3$ remaining heights. Or we could choose to stop there. These contribute $S(3,4) + 1.$ Carrying on, we'd get $S(2,4) + 1$ if we placed ring $3$ first, and $S(1,4) + 1$ if we placed ring $2$ first. Finally, we have to add $1$ for the case where we skip straight to placing ring $1$ first. 

Altogether, this becomes

$$
\begin{align}
S(5,5) &= \overbracket{(1+S(4,4))}^\text{place 5 first} + (1+S(3,4)) + (1+S(2,4)) + (1+S(1,4)) + 1 \\
       &= 5 + S(1,4) + S(2,4) + S(3,4) + S(4,4) 
\end{align}
$$

The only way to get all $5$ rings into the post is to place them in order $5$ to $1.$ If, say, we dropped the $4$ on first, it would settle at its height and cut the other rings off from the $5$ slot. So, placing $4$ first makes a new opportunity to place $4$ rings in the remaining $3$ heights.

###Recursion relation
###Solution attempts
###Regret
###Telescope

<br>
