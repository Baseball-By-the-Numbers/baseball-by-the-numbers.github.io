---
layout: post
published: false
title: Oasis Exodus
date: 2022/06/05
---

>Question

<!--more-->

([FiveThirtyEight](URL))

## Solution

the basic idea is that two travelers won't intersect so long as the one on the right makes a clockwise angle with the one on the left.

first, we can go quick and dirty to get an idea of how the solution should scale. 

# approximate argument

as $n$ gets big about half of the travelers should be on the top or bottom. if we divide the angular real estate into equal sized chunks, then we need the travelers on the top each to pick an angle from $1/(\frac12 n)$ of the available angels. the same goes for the travelers on the bottom.

so, the probability of no intersection is roughly $P(n) \approx 1/(n/2)^n =  2^n/n^n,$ so up to rescalings, we have $P(n) \sim n^{-n}.$

this shows the right $n$ dependence, but has the wrong scaling factor. happily the exact chance falls to a simple counting argument.

# counting argument

in the real problem, the choices aren't so restricted — each traveler could pick an angle from the same small region and as long as they're in clockwise order there won't be any intersections. 

to start, assume the travelers pick their place on the line in some order.

because every traveler starts on the line, noone from the top can possibly intersect with anyone on the bottom. so, we just need either side to be correctly sorted. if there are $T_\text{up}$ travelers on the top side, and $T_\text{down}$ on the down side, then the probability each side is sorted correctly is $1/(T_\text{up}!T_\text{down}!.$ 

if we go down the line, each traveler had even odds to point up or down, so the probability of any particular set of choices is $1/2^n.$ also, we only care about the totals number of up and down pointers, not who they happen to be. coarse graining, there are $\binom{T_\text{up} + T_\text{down}}{T_\text{up}}$ equivalent ways to make a choice of $T_\text{up}$ up pointers and $T_\text{down}$ down pointers.

so, the chance of no intersections with a particular choice of $T_\text{up}$ and $T_\text{down}$ is

$$
  \frac{1}{2^{T_\text{up}+T_\text{down}}\sum_{T_\text{up}} \binom{T_\text{up}+T_\text{down}}{T_\text{up}} \frac{1}{T_\text{up}!}\frac{1}{T_\text{down}!}
$$

obviously, $T_\text{up}$ and $T_\text{down}$ add up to $n$: $T_\text{up} + T_\text{down} = n.$

putting it all together, we get 

$$
  P(n) = \frac{1}{2^n}\sum_{T_\text{up} = 0}^n \binom{n}{T_\text{up}} \frac{1}{T_\text{up}!}\frac{1}{n - T_\text{up}!}
$$

if we multiply the top and bottom by $n!,$ then we get a sum of squares of the binomial coefficient $\sum \binom{n}{T_\text{up}}^2.$

binomial coefficients are generated by the expansion of $(1+x)^n$ — the coefficient of $x^t$ is $\binom{n}{t}.$ if we zipper up the coefficients of $x^1$ with $x^{n-1},$ $x^2$ with $x^{n-2}$ and so on, then we get the sum of squared binomial coefficients. if we multiply $(1+x)^n$ with itself, these squares accumulate on the $x^n$ term. however, $(1+x)^n\cdot(1+x)^n$ is just $(1+x)^{2n},$ whose $x^n$ coefficient is just $\binom{2n}{n}.$ 

so, the sum is just $\binom{2n}{n},$ and our overall probability is 

$$
  P(n) = \frac{1}{2^n n!}\binom{2n}{n}
$$
<br>
